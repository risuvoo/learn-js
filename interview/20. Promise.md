# Promise

## What is a Promise? (Definition)

A Promise in JavaScript is an object representing the eventual completion or failure of an asynchronous operation.

It’s a placeholder for a value that you don’t yet have, but will receive in the future.

## Promise States

A Promise can be in only one state at a time:

- **Pending** → Initial state, operation not finished yet.
- **Fulfilled** → Operation completed successfully (resolve called).
- **Rejected** → Operation failed (reject called).

Once fulfilled or rejected, it becomes **settled** (state won’t change again).

## Creating a Promise

```js
const myPromise = new Promise((resolve, reject) => {
  setTimeout(() => {
    const success = true;
    if (success) {
      resolve("Data loaded");
    } else {
      reject("Error loading data");
    }
  }, 1000);
});
```

## Consuming a Promise

```js
myPromise
  .then(result => console.log(result))    // runs if resolved
  .catch(error => console.error(error))   // runs if rejected
  .finally(() => console.log("Done"));    // runs always
```

## Why Promises? (Benefits over callbacks)

- Avoid callback hell → cleaner chaining with `.then()`.
- Built-in error propagation (any error in the chain goes to `.catch()`).
- Better control over async flow.

## Promise Chaining

```js
getUser(1)
  .then(user => getPosts(user.id))
  .then(posts => getComments(posts[0].id))
  .then(comments => console.log(comments))
  .catch(err => console.error(err));
```

Each `.then()` returns a new promise.

You can pass data from one `.then()` to the next.

## Promise Methods

### Promise.all()

Runs promises in parallel, waits for all to resolve.

Fails fast if any promise rejects.

```js
Promise.all([p1, p2, p3])
  .then(results => console.log(results))
  .catch(err => console.error(err));
```

### Promise.race()

Resolves/rejects as soon as any promise settles.

### Promise.allSettled()

Waits for all to finish (regardless of success/failure).

### Promise.any()

Resolves when first promise fulfills (ignores rejections unless all fail).

## Async/Await — Syntactic Sugar for Promises

```js
async function loadData() {
  try {
    const result = await myPromise;
    console.log(result);
  } catch (error) {
    console.error(error);
  }
}
```

Makes async code look synchronous.

Still uses Promises under the hood.

## Interview-Ready Short Answer

A Promise in JavaScript is an object representing the eventual result of an asynchronous operation. It can be pending, fulfilled, or rejected. Promises solve the problems of callback hell by allowing chaining with `.then()` and centralized error handling with `.catch()`. They’re used heavily with async/await for cleaner code, and utility methods like `Promise.all` help manage multiple async tasks.
